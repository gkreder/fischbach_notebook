<!doctype html>
<html>
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">

    <title></title>
    <link rel="stylesheet" href="../../../../static/fonts/fa/css/font-awesome.min.css?h=512c7d79">
    <link rel="stylesheet" href="/static/lib/reveal/css/reveal.css">
    <link rel="stylesheet" href="/static/lib/reveal/css/theme/white.css" id="theme">
    <link rel="stylesheet" href="/static/slides.css">
    <style>#lektor-edit-link {display:none;}</style>
  </head>
  <body>
    <div class="reveal">
      <div class="slides">
      
      <section data-markdown data-separator="^\n\n">
        
## HSV-2017-05-16

Currently able to grab uniprot xml data for a single protein ID. Can store it as a dict. Need to grab data for all protein IDs and find a good way to store them. 

### Stripping Data
I&#39;ve stripped down the xml data as best I can so far. The problem is that different entries have different depths. I&#39;ve unfurled the annotations dictionary so that the different annotations get their own top-level entries in the resulting record\_dict for each protein record but I&#39;m going to move on instead of trying to unfurl even further.

### Scraping all IDs

I need to get the list of all protein IDs from somewhere so that I can call the record\_dict function on each one. I think I may have just copy-pasted a protein ID directly from the bokeh html graph. Looks like the only other function in the file currently is an aux function that&#39;s being used to create the record\_dict for each protein ID. So I&#39;m going to have to grab all the protein IDs from somewhere. Where did they come from originally?

### Organizing HSV directory

I think I need to reorganize the HSV directory so that I know where everything is. I&#39;m going to keep everything under the HSV top-folder and take it from there. I think the existing file-structure is based on the assumption that the whole dropbox-fischbach directory was going to be turned into a website which is not the case. 

So created a data folder in HSV. I&#39;m going to move the data fetching script there and eventually the Bokeh files. But I also want to consolidate the core .gb and .fasta files in there.

Moved most of the gb and fasta files into the new folder, and probably have disrupted the Bokeh workflow (definitely have disrupted the orthomcl workflow). Going to have to revisit when I try to add orthomcl slider functionality into the bokeh front-end. 

On second thought, better to get orthomcl up and running in the new data folder, that way I know what&#39;s available in the data folder for scraping. 


### Moving orthomcl dir to HSV/data

Copied over orthomcl.config.template over to HSV/data. Don&#39;t think I need to reinstall schema. 

I&#39;ve written a shell script called gb\_to\_fasta.sh that calls the python script in genbank\_to\_fasta\_1.1. Goes into folder HHV\_gb and converts everything to fasta and spits out resulting file into HHV\_fasta.	

Now working on calling orthomclAdjustFasta. Writing another shell script (2\_adjust\_fasta.sh) that calls orthomclAdjustFasta. Does so for every fasta file in HHV\_fasta and moves the compliant version to HHV\_compliant with name according to whatever name is given in the original fasta file (and original .gb file) before the first &#34;\_&#34; character.

Script 3 (3\_filter\_fasta.sh) filters the compliant fasta file. Uses the default suggested filtering values (10 minimum sequence length and 20 maximum percent stop codons) but these values can be adjusted by changing the variables in the script 3\_filter\_fasta.sh. 

Also have this script dumping the resulting goodProteins and poorProteins files into a folder called orthomcl_files so that they are not sitting in the top-level directory. 

#### Running BLAST on goodProteins.fasta

Need shell scripts to run BLAST on goodProteins.fasta. I think I can tinker with the parameters here. 


      </section>
      
      </div>
    </div>

    <script src="../../../../static/lib/reveal/lib/js/head.min.js?h=8c9495c7"></script>
    <script src="../../../../static/lib/reveal/js/reveal.js?h=19c4134c"></script>
    <script>
      // More info https://github.com/hakimel/reveal.js#configuration
      Reveal.initialize({
        center: false,
        history: true,
        margin: 0.2,
        transition: 'fade', // none/fade/slide/convex/concave/zoom
        transitionSpeed: 'fast', // default/fast/slow

        menu: {
            // Specifies which side of the presentation the menu will
            // be shown. Use 'left' or 'right'.
            side: 'left',

            // Add slide numbers to the titles in the slide list.
            // Use 'true' or format string (same as reveal.js slide numbers)
            numbers: false,

            // Specifies which slide elements will be used for generating
            // the slide titles in the menu. The default selects the first
            // heading element found in the slide, but you can specify any
            // valid css selector and the text from the first matching
            // element will be used.
            // Note: that a section data-menu-title attribute or an element
            // with a menu-title class will take precedence over this option
            titleSelector: 'h1, h2, h3, h4, h5, h6',

            // Hide slides from the menu that do not have a title.
            // Set to 'true' to only list slides with titles.
            hideMissingTitles: false,

            // Add markers to the slide titles to indicate the
            // progress through the presentation
            markers: true,

            // Specify custom panels to be included in the menu, by
            // providing an array of objects with 'title', 'icon'
            // properties, and either a 'src' or 'content' property.
            custom: false,

            // Specifies the themes that will be available in the themes
            // menu panel. Set to 'false' to hide themes panel.
            themes: [
                { name: 'Black', theme: '/static/lib/reveal/css/theme/black.css' },
                { name: 'White', theme: '/static/lib/reveal/css/theme/white.css' },
                { name: 'League', theme: '/static/lib/reveal/css/theme/league.css' },
                { name: 'Sky', theme: '/static/lib/reveal/css/theme/sky.css' },
                { name: 'Solarized', theme: '/static/lib/reveal/css/theme/solarized.css' }
            ],

            // Specifies if the transitions menu panel will be shown.
            transitions: true,

            // Adds a menu button to the slides to open the menu panel.
            // Set to 'false' to hide the button.
            openButton: true,

            // If 'true' allows the slide number in the presentation to
            // open the menu panel. The reveal.js slideNumber option must
            // be displayed for this to take effect
            openSlideNumber: false,

            // If true allows the user to open and navigate the menu using
            // the keyboard. Standard keyboard interaction with reveal
            // will be disabled while the menu is open.
            keyboard: true
        },

        // More info https://github.com/hakimel/reveal.js#dependencies
        dependencies: [
          { src: "../../../../static/lib/reveal/plugin/markdown/marked.js" },
          { src: "../../../../static/lib/reveal/plugin/markdown/markdown.js" },
          { src: "../../../../static/lib/reveal/plugin/menu/menu.js"},
          { src: "../../../../static/lib/reveal/plugin/zoom-js/zoom.js", async: true },
          { src: "../../../../static/lib/reveal/plugin/notes/notes.js", async: true },
          { src: "../../../../static/lib/reveal/plugin/highlight/highlight.js", async: true, callback: function() { hljs.initHighlightingOnLoad(); } }
        ]
      });
    </script>

    <a href=".." id="exit-slides-link"><i class="fa fa-close" aria-hidden="true"></i></a>
  </body>
</html>
